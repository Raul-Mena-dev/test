<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8"/>
    <title>test_inventario_unificado-2022-11-22-13-35-12.html</title>
    <link href="assets/style.css" rel="stylesheet" type="text/css"/></head>
  <body onLoad="init()">
    <script>/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */


function toArray(iter) {
    if (iter === null) {
        return null;
    }
    return Array.prototype.slice.call(iter);
}

function find(selector, elem) { // eslint-disable-line no-redeclare
    if (!elem) {
        elem = document;
    }
    return elem.querySelector(selector);
}

function findAll(selector, elem) {
    if (!elem) {
        elem = document;
    }
    return toArray(elem.querySelectorAll(selector));
}

function sortColumn(elem) {
    toggleSortStates(elem);
    const colIndex = toArray(elem.parentNode.childNodes).indexOf(elem);
    let key;
    if (elem.classList.contains('result')) {
        key = keyResult;
    } else if (elem.classList.contains('links')) {
        key = keyLink;
    } else {
        key = keyAlpha;
    }
    sortTable(elem, key(colIndex));
}

function showAllExtras() { // eslint-disable-line no-unused-vars
    findAll('.col-result').forEach(showExtras);
}

function hideAllExtras() { // eslint-disable-line no-unused-vars
    findAll('.col-result').forEach(hideExtras);
}

function showExtras(colresultElem) {
    const extras = colresultElem.parentNode.nextElementSibling;
    const expandcollapse = colresultElem.firstElementChild;
    extras.classList.remove('collapsed');
    expandcollapse.classList.remove('expander');
    expandcollapse.classList.add('collapser');
}

function hideExtras(colresultElem) {
    const extras = colresultElem.parentNode.nextElementSibling;
    const expandcollapse = colresultElem.firstElementChild;
    extras.classList.add('collapsed');
    expandcollapse.classList.remove('collapser');
    expandcollapse.classList.add('expander');
}

function showFilters() {
    let visibleString = getQueryParameter('visible') || 'all';
    visibleString = visibleString.toLowerCase();
    const checkedItems = visibleString.split(',');

    const filterItems = document.getElementsByClassName('filter');
    for (let i = 0; i < filterItems.length; i++) {
        filterItems[i].hidden = false;

        if (visibleString != 'all') {
            filterItems[i].checked = checkedItems.includes(filterItems[i].getAttribute('data-test-result'));
            filterTable(filterItems[i]);
        }
    }
}

function addCollapse() {
    // Add links for show/hide all
    const resulttable = find('table#results-table');
    const showhideall = document.createElement('p');
    showhideall.innerHTML = '<a href="javascript:showAllExtras()">Show all details</a> / ' +
                            '<a href="javascript:hideAllExtras()">Hide all details</a>';
    resulttable.parentElement.insertBefore(showhideall, resulttable);

    // Add show/hide link to each result
    findAll('.col-result').forEach(function(elem) {
        const collapsed = getQueryParameter('collapsed') || 'Passed';
        const extras = elem.parentNode.nextElementSibling;
        const expandcollapse = document.createElement('span');
        if (extras.classList.contains('collapsed')) {
            expandcollapse.classList.add('expander');
        } else if (collapsed.includes(elem.innerHTML)) {
            extras.classList.add('collapsed');
            expandcollapse.classList.add('expander');
        } else {
            expandcollapse.classList.add('collapser');
        }
        elem.appendChild(expandcollapse);

        elem.addEventListener('click', function(event) {
            if (event.currentTarget.parentNode.nextElementSibling.classList.contains('collapsed')) {
                showExtras(event.currentTarget);
            } else {
                hideExtras(event.currentTarget);
            }
        });
    });
}

function getQueryParameter(name) {
    const match = RegExp('[?&]' + name + '=([^&]*)').exec(window.location.search);
    return match && decodeURIComponent(match[1].replace(/\+/g, ' '));
}

function init () { // eslint-disable-line no-unused-vars
    resetSortHeaders();

    addCollapse();

    showFilters();

    sortColumn(find('.initial-sort'));

    findAll('.sortable').forEach(function(elem) {
        elem.addEventListener('click',
            function() {
                sortColumn(elem);
            }, false);
    });
}

function sortTable(clicked, keyFunc) {
    const rows = findAll('.results-table-row');
    const reversed = !clicked.classList.contains('asc');
    const sortedRows = sort(rows, keyFunc, reversed);
    /* Whole table is removed here because browsers acts much slower
     * when appending existing elements.
     */
    const thead = document.getElementById('results-table-head');
    document.getElementById('results-table').remove();
    const parent = document.createElement('table');
    parent.id = 'results-table';
    parent.appendChild(thead);
    sortedRows.forEach(function(elem) {
        parent.appendChild(elem);
    });
    document.getElementsByTagName('BODY')[0].appendChild(parent);
}

function sort(items, keyFunc, reversed) {
    const sortArray = items.map(function(item, i) {
        return [keyFunc(item), i];
    });

    sortArray.sort(function(a, b) {
        const keyA = a[0];
        const keyB = b[0];

        if (keyA == keyB) return 0;

        if (reversed) {
            return keyA < keyB ? 1 : -1;
        } else {
            return keyA > keyB ? 1 : -1;
        }
    });

    return sortArray.map(function(item) {
        const index = item[1];
        return items[index];
    });
}

function keyAlpha(colIndex) {
    return function(elem) {
        return elem.childNodes[1].childNodes[colIndex].firstChild.data.toLowerCase();
    };
}

function keyLink(colIndex) {
    return function(elem) {
        const dataCell = elem.childNodes[1].childNodes[colIndex].firstChild;
        return dataCell == null ? '' : dataCell.innerText.toLowerCase();
    };
}

function keyResult(colIndex) {
    return function(elem) {
        const strings = ['Error', 'Failed', 'Rerun', 'XFailed', 'XPassed',
            'Skipped', 'Passed'];
        return strings.indexOf(elem.childNodes[1].childNodes[colIndex].firstChild.data);
    };
}

function resetSortHeaders() {
    findAll('.sort-icon').forEach(function(elem) {
        elem.parentNode.removeChild(elem);
    });
    findAll('.sortable').forEach(function(elem) {
        const icon = document.createElement('div');
        icon.className = 'sort-icon';
        icon.textContent = 'vvv';
        elem.insertBefore(icon, elem.firstChild);
        elem.classList.remove('desc', 'active');
        elem.classList.add('asc', 'inactive');
    });
}

function toggleSortStates(elem) {
    //if active, toggle between asc and desc
    if (elem.classList.contains('active')) {
        elem.classList.toggle('asc');
        elem.classList.toggle('desc');
    }

    //if inactive, reset all other functions and add ascending active
    if (elem.classList.contains('inactive')) {
        resetSortHeaders();
        elem.classList.remove('inactive');
        elem.classList.add('active');
    }
}

function isAllRowsHidden(value) {
    return value.hidden == false;
}

function filterTable(elem) { // eslint-disable-line no-unused-vars
    const outcomeAtt = 'data-test-result';
    const outcome = elem.getAttribute(outcomeAtt);
    const classOutcome = outcome + ' results-table-row';
    const outcomeRows = document.getElementsByClassName(classOutcome);

    for(let i = 0; i < outcomeRows.length; i++){
        outcomeRows[i].hidden = !elem.checked;
    }

    const rows = findAll('.results-table-row').filter(isAllRowsHidden);
    const allRowsHidden = rows.length == 0 ? true : false;
    const notFoundMessage = document.getElementById('not-found-message');
    notFoundMessage.hidden = !allRowsHidden;
}
</script>
    <h1>test_inventario_unificado-2022-11-22-13-35-12.html</h1>
    <p>Report generated on 22-Nov-2022 at 13:37:36 by <a href="https://pypi.python.org/pypi/pytest-html">pytest-html</a> v3.2.0</p>
    <h2>Environment</h2>
    <table id="environment">
      <tr>
        <td>Packages</td>
        <td>{"pluggy": "1.0.0", "pytest": "7.2.0"}</td></tr>
      <tr>
        <td>Platform</td>
        <td>Linux-5.17.12-100.fc34.x86_64-x86_64-with-glibc2.33</td></tr>
      <tr>
        <td>Plugins</td>
        <td>{"html": "3.2.0", "metadata": "2.0.4"}</td></tr>
      <tr>
        <td>Python</td>
        <td>3.9.13</td></tr></table>
    <h2>Summary</h2>
    <p>1 tests ran in 143.28 seconds. </p>
    <p class="filter" hidden="true">(Un)check the boxes to filter the results.</p><input checked="true" class="filter" data-test-result="passed" disabled="true" hidden="true" name="filter_checkbox" onChange="filterTable(this)" type="checkbox"/><span class="passed">0 passed</span>, <input checked="true" class="filter" data-test-result="skipped" disabled="true" hidden="true" name="filter_checkbox" onChange="filterTable(this)" type="checkbox"/><span class="skipped">0 skipped</span>, <input checked="true" class="filter" data-test-result="failed" hidden="true" name="filter_checkbox" onChange="filterTable(this)" type="checkbox"/><span class="failed">1 failed</span>, <input checked="true" class="filter" data-test-result="error" disabled="true" hidden="true" name="filter_checkbox" onChange="filterTable(this)" type="checkbox"/><span class="error">0 errors</span>, <input checked="true" class="filter" data-test-result="xfailed" disabled="true" hidden="true" name="filter_checkbox" onChange="filterTable(this)" type="checkbox"/><span class="xfailed">0 expected failures</span>, <input checked="true" class="filter" data-test-result="xpassed" disabled="true" hidden="true" name="filter_checkbox" onChange="filterTable(this)" type="checkbox"/><span class="xpassed">0 unexpected passes</span>
    <h2>Results</h2>
    <table id="results-table">
      <thead id="results-table-head">
        <tr>
          <th class="sortable result initial-sort" col="result">Result</th>
          <th class="sortable" col="name">Test</th>
          <th class="sortable" col="duration">Duration</th>
          <th class="sortable links" col="links">Links</th></tr>
        <tr hidden="true" id="not-found-message">
          <th colspan="4">No results found. Try to check the filters</th></tr></thead>
      <tbody class="failed results-table-row">
        <tr>
          <td class="col-result">Failed</td>
          <td class="col-name">app/static/pruebas_sgc/test_inventario_unificado.py::test_inventario_fisico_inicial</td>
          <td class="col-duration">143.18</td>
          <td class="col-links"></td></tr>
        <tr>
          <td class="extra" colspan="4">
            <div class="log">driver = &lt;selenium.webdriver.chrome.webdriver.WebDriver (session=&quot;1f9c8335b6203f6b69bdac18201089d6&quot;)&gt;<br/>fecha_test = &#x27;2022-11-18&#x27;, name = &#x27;admin&#x27;, password = &#x27;Z76U4CFIx#&#x27;<br/>name_web = &#x27;admin&#x27;, password_web = &#x27;Ku8L08iEsb86&#x27;<br/><br/>    def test_inventario_fisico_inicial(driver, fecha_test, name=&#x27;admin&#x27;, password=&#x27;Z76U4CFIx#&#x27;, name_web=&#x27;admin&#x27;, password_web=&#x27;Ku8L08iEsb86&#x27;):<br/>        datos_inventario_inicial = {}<br/>        datos_inventario_final = {}<br/>        datos_entradas = {}<br/>        datos_inventario = {}<br/>        datos_ventas = {}<br/>        productos = {}<br/>        datos_inventario_tanque = {}<br/>        dia_inventario = fecha_test<br/>        try:<br/>            login(driver, name, password)<br/>            time.sleep(2)<br/>            boton_inventario = driver.find_element(By.XPATH, &#x27;//*[@id=&quot;grouptab_7&quot;]&#x27;)<br/>            boton_inventario.click()<br/>            sub_boton_inventario = driver.find_element(By.XPATH, &#x27;//*[@id=&quot;moduleTab_7_isies_inventario_basico&quot;]&#x27;)<br/>            sub_boton_inventario.click()<br/>            time.sleep(2)<br/>            datos_inventario_inicial[&#x27;Dia inventario&#x27;] = dia_inventario<br/>            fecha = driver.find_element(By.XPATH, &#x27;//*[@id=&quot;inventario_basic&quot;]&#x27;)<br/>            fecha.send_keys(dia_inventario)<br/>            fecha.send_keys(Keys.ENTER)<br/>            time.sleep(1)<br/>            if check_exists_by_xpath(driver, &#x27;//*[@id=&quot;MassUpdate&quot;]/table/tbody/tr[3]/td[1]/a&#x27;):<br/>                documento = driver.find_element(By.XPATH, &#x27;//*[@id=&quot;MassUpdate&quot;]/table/tbody/tr[3]/td[1]/a&#x27;)<br/>                documento.click()<br/>                time.sleep(1)<br/>                fecha_inicial = driver.find_element(By.XPATH, &#x27;//*[@id=&quot;lienzo&quot;]/table[2]/tbody/tr[1]/td[2]&#x27;).text<br/>                datos_inventario_inicial[&#x27;Fecha inicial inventario&#x27;] = fecha_inicial<br/>                fecha_inicial = convertir_fecha_24(fecha_inicial)<br/>                fecha_inicial = fecha_inicial.split(&#x27; &#x27;)<br/>                hora_inicial = fecha_inicial[1]<br/>                hora_inicial = hora_inicial.replace(&#x27;pm&#x27;, &#x27;&#x27;)<br/>                hora_inicial = hora_inicial.replace(&#x27;am&#x27;, &#x27;&#x27;)<br/>                hora_inicial = hora_inicial.replace(&#x27;:&#x27;, &#x27;&#x27;)<br/>                time.sleep(1)<br/>                inventario_fisico_inicial = driver.find_element(By.XPATH, &#x27;//*[@id=&quot;lienzo&quot;]/table[3]/tbody/tr[2]/td[2]&#x27;).text<br/>                # nos movemos a almacen<br/>                boton_almacen = driver.find_element(By.XPATH, &#x27;//*[@id=&quot;grouptab_6&quot;]&#x27;)<br/>                boton_almacen.click()<br/>                sub_boton_almacen = driver.find_element(By.XPATH, &#x27;//*[@id=&quot;moduleTab_6_isies_registros_medidor_almacen&quot;]&#x27;)<br/>                sub_boton_almacen.click()<br/>                fecha_registro = driver.find_element(By.XPATH, &#x27;//*[@id=&quot;fecha_lectura_basic&quot;]&#x27;)<br/>                fecha_registro.send_keys(datos_inventario_inicial[&#x27;Dia inventario&#x27;])<br/>                fecha_registro.send_keys(Keys.ENTER)<br/>                i = 3<br/>                tabla = driver.find_element(By.XPATH, &#x27;//*[@id=&quot;MassUpdate&quot;]/table/tbody&#x27;)<br/>                listado = tabla.find_elements(By.TAG_NAME, &#x27;tr&#x27;)<br/>                len_listado = len(listado)<br/>                len_listado -= 3<br/>                if check_exists_by_xpath(driver, f&#x27;//*[@id=&quot;MassUpdate&quot;]/table/tbody/tr[{i}]/td[12]&#x27;):<br/>                    fecha_registro = driver.find_element(By.XPATH, f&#x27;//*[@id=&quot;MassUpdate&quot;]/table/tbody/tr[{i}]/td[14]&#x27;).text<br/>                    datos_inventario_inicial[&#x27;Fecha de registro mas proxima&#x27;] = fecha_registro<br/>                    fecha_registro = convertir_fecha_24(fecha_registro)<br/>                    solo_fecha_registro = fecha_registro.split(&#x27; &#x27;)<br/>                    hora_registro = solo_fecha_registro[1]<br/>                    hora_registro = hora_registro.replace(&#x27;am&#x27;, &#x27;&#x27;)<br/>                    hora_registro = hora_registro.replace(&#x27;pm&#x27;, &#x27;&#x27;)<br/>                    hora_registro = hora_registro.replace(&#x27;:&#x27;, &#x27;&#x27;)<br/>                    while int(hora_registro) &gt; int(hora_inicial):<br/>                        flecha_next = driver.find_element(By.XPATH, &#x27;//*[@id=&quot;MassUpdate&quot;]/table/tbody/tr[1]/td/table/tbody/tr/td[2]/button[3]&#x27;)<br/>                        if flecha_next.is_enabled():<br/>                            if i &gt; len_listado:<br/>                                flecha_next = driver.find_element(By.XPATH, &#x27;//*[@id=&quot;MassUpdate&quot;]/table/tbody/tr[1]/td/table/tbody/tr/td[2]/button[3]&#x27;)<br/>                                flecha_next.click()<br/>                                time.sleep(3)<br/>                                tabla = driver.find_element(By.XPATH, &#x27;//*[@id=&quot;MassUpdate&quot;]/table/tbody&#x27;)<br/>                                listado = tabla.find_elements(By.TAG_NAME, &#x27;tr&#x27;)<br/>                                len_listado = len(listado)<br/>                                len_listado -= 3<br/>                                i = 3<br/>                        else:<br/>                            fecha_registro = driver.find_element(By.XPATH, f&#x27;//*[@id=&quot;MassUpdate&quot;]/table/tbody/tr[{i}]/td[14]&#x27;).text<br/>                            fecha_registro = convertir_fecha_24(fecha_registro)<br/>                            solo_fecha_registro = fecha_registro.split(&#x27; &#x27;)<br/>                            hora_registro = solo_fecha_registro[1]<br/>                            hora_registro = hora_registro.replace(&#x27;pm&#x27;, &#x27;&#x27;)<br/>                            hora_registro = hora_registro.replace(&#x27;am&#x27;, &#x27;&#x27;)<br/>                            hora_registro = hora_registro.replace(&#x27;:&#x27;, &#x27;&#x27;)<br/>                            if int(hora_registro) &lt;= int(hora_inicial):<br/>                                datos_inventario_inicial[&#x27;Fecha de registro mas proxima&#x27;] = fecha_registro<br/>                                break<br/>                            elif i &gt;= len_listado:<br/>                                fecha_registro = driver.find_element(By.XPATH, f&#x27;//*[@id=&quot;MassUpdate&quot;]/table/tbody/tr[{len_listado}]/td[14]&#x27;).text<br/>                                datos_inventario_inicial[&#x27;Fecha de registro mas proxima&#x27;] = fecha_registro<br/>                                break<br/>                            else:<br/>                                i += 1<br/>                        fecha_registro = driver.find_element(By.XPATH, f&#x27;//*[@id=&quot;MassUpdate&quot;]/table/tbody/tr[{i}]/td[14]&#x27;).text<br/>                        fecha_registro = convertir_fecha_24(fecha_registro)<br/>                        solo_fecha_registro = fecha_registro.split(&#x27; &#x27;)<br/>                        hora_registro = solo_fecha_registro[1]<br/>                        hora_registro = hora_registro.replace(&#x27;pm&#x27;, &#x27;&#x27;)<br/>                        hora_registro = hora_registro.replace(&#x27;am&#x27;, &#x27;&#x27;)<br/>                        hora_registro = hora_registro.replace(&#x27;:&#x27;, &#x27;&#x27;)<br/>    <br/>                        if int(hora_registro) &lt;= int(hora_inicial):<br/>                            datos_inventario_inicial[&#x27;Fecha de registro mas proxima&#x27;] = fecha_registro<br/>                            break<br/>                        else:<br/>                            i += 1<br/>    <br/>                    folio = driver.find_element(By.XPATH, f&#x27;//*[@id=&quot;MassUpdate&quot;]/table/tbody/tr[{i}]/td[1]&#x27;).text<br/>                    volumen = driver.find_element(By.XPATH, f&#x27;//*[@id=&quot;MassUpdate&quot;]/table/tbody/tr[{i}]/td[7]&#x27;).text<br/>                    compensado = driver.find_element(By.XPATH, f&#x27;//*[@id=&quot;MassUpdate&quot;]/table/tbody/tr[{i}]/td[12]&#x27;).text<br/>                    datos_inventario_inicial[&#x27;Folio de registro mas proximo&#x27;] = folio<br/>                    inventario_fisico_inicial = inventario_fisico_inicial.replace(&#x27;kg&#x27;, &#x27;&#x27;)<br/>                    inventario_fisico_inicial = inventario_fisico_inicial.replace(&#x27;lt&#x27;, &#x27;&#x27;)<br/>                    inventario_fisico_inicial = inventario_fisico_inicial.replace(&#x27; &#x27;, &#x27;&#x27;)<br/>                    inventario_fisico_inicial = inventario_fisico_inicial.replace(&#x27;,&#x27;, &#x27;&#x27;)<br/>                    datos_inventario_inicial[&#x27;Volumen Fisico Inicial&#x27;] = inventario_fisico_inicial<br/>                    volumen = volumen.replace(&#x27;,&#x27;, &#x27;&#x27;)<br/>                    compensado.replace(&#x27;,&#x27;, &#x27;&#x27;)<br/>                    datos_inventario_inicial[&#x27;Volumen Almacen + Compensado&#x27;] = float(volumen) + float(compensado)<br/>                    datos_inventario_inicial[&#x27;Volumen Almacen + Compensado&#x27;] = round(datos_inventario_inicial[&#x27;Volumen Almacen + Compensado&#x27;], 2)<br/>                    datos_inventario_inicial[&#x27;Diferencia&#x27;] = float(datos_inventario_inicial[&#x27;Volumen Fisico Inicial&#x27;]) - float(datos_inventario_inicial[&#x27;Volumen Almacen + Compensado&#x27;])<br/>                    datos_inventario_inicial[&#x27;Diferencia&#x27;] = abs(datos_inventario_inicial[&#x27;Diferencia&#x27;])<br/>                    datos_inventario_inicial[&#x27;Diferencia&#x27;] = round(datos_inventario_inicial[&#x27;Diferencia&#x27;], 4)<br/>    <br/>            else:<br/>                print(&#x27;Test Unificado\n&#x27;)<br/>                print(&#x27;Test Unificado, Test que junta 5 test para contrstar cada apartado del inventario contra sus respectivos apartados:\n&#x27;<br/>                      &#x27;Test que se ejecutan:\n&#x27;<br/>                      &#x27;Inventario inicial\n&#x27;<br/>                      &#x27;Inventario final\n&#x27;<br/>                      &#x27;Inventario Entradas/Compras\n&#x27;<br/>                      &#x27;Inventario contra ventas\n&#x27;<br/>                      &#x27;Inventario contra Auditor anden \n&#x27;<br/>                      &#x27;\n\n&#x27;<br/>                      &#x27;Instancias: http://192.168.9.164/sgcweb, http://testventas.sgcweb.com.mx/&#x27;)<br/>                print(&#x27;\n\n&#x27;)<br/>                mensaje_de_salida(datos_inventario_inicial, datos_inventario_final, datos_entradas, datos_inventario, datos_ventas, datos_inventario_tanque)<br/>                assert False, f&#x27;No hay inventario del dia seleccionado. Fecha: {fecha_test}&#x27;<br/>            # se empieza el proceso para inventario final<br/>            time.sleep(2)<br/>            boton_inventario = driver.find_element(By.XPATH, &#x27;//*[@id=&quot;grouptab_7&quot;]&#x27;)<br/>            boton_inventario.click()<br/>            sub_boton_inventario = driver.find_element(By.XPATH, &#x27;//*[@id=&quot;moduleTab_7_isies_inventario_basico&quot;]&#x27;)<br/>            sub_boton_inventario.click()<br/>            time.sleep(2)<br/>            datos_inventario_final[&#x27;Dia inventario&#x27;] = dia_inventario<br/>            fecha = driver.find_element(By.XPATH, &#x27;//*[@id=&quot;inventario_basic&quot;]&#x27;)<br/>            fecha.send_keys(datos_inventario_final[&#x27;Dia inventario&#x27;])<br/>            fecha.send_keys(Keys.ENTER)<br/>            time.sleep(1)<br/>            if check_exists_by_xpath(driver, &#x27;//*[@id=&quot;MassUpdate&quot;]/table/tbody/tr[3]/td[1]/a&#x27;):<br/>                documento = driver.find_element(By.XPATH, &#x27;//*[@id=&quot;MassUpdate&quot;]/table/tbody/tr[3]/td[1]/a&#x27;)<br/>                documento.click()<br/>                time.sleep(1)<br/>                fecha_final = driver.find_element(By.XPATH, &#x27;//*[@id=&quot;tr1&quot;]/td[2]&#x27;).text<br/>                datos_inventario_final[&#x27;Fecha Final del Inventario&#x27;] = fecha_final<br/>                fecha_final = convertir_fecha_24(fecha_final)<br/>                fecha_final = fecha_final.split(&#x27; &#x27;)<br/>                hora_final = fecha_final[1]<br/>                fecha_final = fecha_final[0]<br/>                hora_final = hora_final.replace(&#x27;pm&#x27;, &#x27;&#x27;)<br/>                hora_final = hora_final.replace(&#x27;am&#x27;, &#x27;&#x27;)<br/>                hora_final = hora_final.replace(&#x27;:&#x27;, &#x27;&#x27;)<br/>                time.sleep(1)<br/>                inventario_fisico_final = driver.find_element(By.XPATH, &#x27;//*[@id=&quot;lienzo&quot;]/table[1]/tbody/tr[2]/td[1]&#x27;).text<br/>                boton_almacen = driver.find_element(By.XPATH, &#x27;//*[@id=&quot;grouptab_6&quot;]&#x27;)<br/>                boton_almacen.click()<br/>                sub_boton_almacen = driver.find_element(By.XPATH, &#x27;//*[@id=&quot;moduleTab_6_isies_registros_medidor_almacen&quot;]&#x27;)<br/>                sub_boton_almacen.click()<br/>                fecha_registro = driver.find_element(By.XPATH, &#x27;//*[@id=&quot;fecha_lectura_basic&quot;]&#x27;)<br/>                fecha_registro.send_keys(fecha_final)<br/>                fecha_registro.send_keys(Keys.ENTER)<br/>                i = 3<br/>                tabla = driver.find_element(By.XPATH, &#x27;//*[@id=&quot;MassUpdate&quot;]/table/tbody&#x27;)<br/>                listado = tabla.find_elements(By.TAG_NAME, &#x27;tr&#x27;)<br/>                len_listado = len(listado)<br/>                len_listado -= 3<br/>                if check_exists_by_xpath(driver, f&#x27;//*[@id=&quot;MassUpdate&quot;]/table/tbody/tr[{i}]/td[14]&#x27;):<br/>                    fecha_registro = driver.find_element(By.XPATH, f&#x27;//*[@id=&quot;MassUpdate&quot;]/table/tbody/tr[{i}]/td[14]&#x27;).text<br/>                    fecha_registro = convertir_fecha_24(fecha_registro)<br/>                    datos_inventario_final[&#x27;Fecha de registro mas proxima&#x27;] = fecha_registro<br/>                    solo_fecha_registro = fecha_registro.split(&#x27; &#x27;)<br/>                    hora_registro = solo_fecha_registro[1]<br/>                    hora_registro = hora_registro.replace(&#x27;pm&#x27;, &#x27;&#x27;)<br/>                    hora_registro = hora_registro.replace(&#x27;am&#x27;, &#x27;&#x27;)<br/>                    hora_registro = hora_registro.replace(&#x27;:&#x27;, &#x27;&#x27;)<br/>                    while int(hora_registro) &gt; int(hora_final):<br/>                        flecha_next = driver.find_element(By.XPATH, &#x27;//*[@id=&quot;MassUpdate&quot;]/table/tbody/tr[1]/td/table/tbody/tr/td[2]/button[3]&#x27;)<br/>                        if flecha_next.is_enabled():<br/>                            if i &gt; len_listado:<br/>                                flecha_next = driver.find_element(By.XPATH, &#x27;//*[@id=&quot;MassUpdate&quot;]/table/tbody/tr[1]/td/table/tbody/tr/td[2]/button[3]&#x27;)<br/>                                flecha_next.click()<br/>                                time.sleep(3)<br/>                                tabla = driver.find_element(By.XPATH, &#x27;//*[@id=&quot;MassUpdate&quot;]/table/tbody&#x27;)<br/>                                listado = tabla.find_elements(By.TAG_NAME, &#x27;tr&#x27;)<br/>                                len_listado = len(listado)<br/>                                len_listado -= 3<br/>                                i = 3<br/>                        else:<br/>                            fecha_registro = driver.find_element(By.XPATH, f&#x27;//*[@id=&quot;MassUpdate&quot;]/table/tbody/tr[{i}]/td[14]&#x27;).text<br/>                            fecha_registro = convertir_fecha_24(fecha_registro)<br/>                            solo_fecha_registro = fecha_registro.split(&#x27; &#x27;)<br/>                            hora_registro = solo_fecha_registro[1]<br/>                            hora_registro = hora_registro.replace(&#x27;pm&#x27;, &#x27;&#x27;)<br/>                            hora_registro = hora_registro.replace(&#x27;am&#x27;, &#x27;&#x27;)<br/>                            hora_registro = hora_registro.replace(&#x27;:&#x27;, &#x27;&#x27;)<br/>                            if int(hora_registro) &lt;= int(hora_final):<br/>                                datos_inventario_final[&#x27;Fecha de registro mas proxima&#x27;] = fecha_registro<br/>                                break<br/>                            elif i &gt;= len_listado:<br/>                                fecha_registro = driver.find_element(By.XPATH, f&#x27;//*[@id=&quot;MassUpdate&quot;]/table/tbody/tr[{len_listado}]/td[14]&#x27;).text<br/>                                datos_inventario_final[&#x27;Fecha de registro mas proxima&#x27;] = fecha_registro<br/>                                break<br/>                            else:<br/>                                i += 1<br/>                        fecha_registro = driver.find_element(By.XPATH, f&#x27;//*[@id=&quot;MassUpdate&quot;]/table/tbody/tr[{i}]/td[14]&#x27;).text<br/>                        fecha_registro = convertir_fecha_24(fecha_registro)<br/>                        solo_fecha_registro = fecha_registro.split(&#x27; &#x27;)<br/>                        hora_registro = solo_fecha_registro[1]<br/>                        hora_registro = hora_registro.replace(&#x27;pm&#x27;, &#x27;&#x27;)<br/>                        hora_registro = hora_registro.replace(&#x27;am&#x27;, &#x27;&#x27;)<br/>                        hora_registro = hora_registro.replace(&#x27;:&#x27;, &#x27;&#x27;)<br/>                        if int(hora_registro) &lt;= int(hora_final):<br/>                            datos_inventario_final[&#x27;Fecha de registro mas proxima&#x27;] = fecha_registro<br/>                            break<br/>                        else:<br/>                            i += 1<br/>    <br/>                    folio = driver.find_element(By.XPATH, f&#x27;//*[@id=&quot;MassUpdate&quot;]/table/tbody/tr[{i}]/td[1]&#x27;).text<br/>                    volumen = driver.find_element(By.XPATH, f&#x27;//*[@id=&quot;MassUpdate&quot;]/table/tbody/tr[{i}]/td[7]&#x27;).text<br/>                    compensado = driver.find_element(By.XPATH, f&#x27;//*[@id=&quot;MassUpdate&quot;]/table/tbody/tr[{i}]/td[12]&#x27;).text<br/>                    inventario_fisico_final = inventario_fisico_final.replace(&#x27;kg&#x27;, &#x27;&#x27;)<br/>                    inventario_fisico_final = inventario_fisico_final.replace(&#x27;lt&#x27;, &#x27;&#x27;)<br/>                    inventario_fisico_final = inventario_fisico_final.replace(&#x27; &#x27;, &#x27;&#x27;)<br/>                    inventario_fisico_final = inventario_fisico_final.replace(&#x27;,&#x27;, &#x27;&#x27;)<br/>                    datos_inventario_final[&#x27;Folio de registro mas proximo&#x27;] = folio<br/>                    datos_inventario_final[&#x27;Volumen Fisico Final Inventario&#x27;] = inventario_fisico_final<br/>                    volumen = volumen.replace(&#x27;,&#x27;, &#x27;&#x27;)<br/>                    compensado.replace(&#x27;,&#x27;, &#x27;&#x27;)<br/>                    datos_inventario_final[&#x27;Volumen Almacen + Compensado&#x27;] = float(volumen) + float(compensado)<br/>                    datos_inventario_final[&#x27;Volumen Almacen + Compensado&#x27;] = round(datos_inventario_final[&#x27;Volumen Almacen + Compensado&#x27;], 2)<br/>                    datos_inventario_final[&#x27;Diferencia&#x27;] = float(datos_inventario_final[&#x27;Volumen Fisico Final Inventario&#x27;]) - float(datos_inventario_final[&#x27;Volumen Almacen + Compensado&#x27;])<br/>                    datos_inventario_final[&#x27;Diferencia&#x27;] = abs(float(datos_inventario_final[&#x27;Diferencia&#x27;]))<br/>                    datos_inventario_final[&#x27;Diferencia&#x27;] = round(float(datos_inventario_final[&#x27;Diferencia&#x27;]), 2)<br/>                else:<br/>                    fecha_registro = driver.find_element(By.XPATH, &#x27;//*[@id=&quot;fecha_lectura_basic&quot;]&#x27;)<br/>                    fecha_registro.clear()<br/>                    fecha_registro.send_keys(dia_inventario)<br/>                    fecha_registro.send_keys(Keys.ENTER)<br/>                    if check_exists_by_xpath(driver, f&#x27;//*[@id=&quot;MassUpdate&quot;]/table/tbody/tr[3]/td[14]&#x27;):<br/>                        fecha_registro = driver.find_element(By.XPATH, f&#x27;//*[@id=&quot;MassUpdate&quot;]/table/tbody/tr[3]/td[14]&#x27;).text<br/>                        fecha_registro = convertir_fecha_24(fecha_registro)<br/>                        datos_inventario_final[&#x27;Fecha de registro mas proxima&#x27;] = fecha_registro<br/>                        folio = driver.find_element(By.XPATH, f&#x27;//*[@id=&quot;MassUpdate&quot;]/table/tbody/tr[3]/td[1]&#x27;).text<br/>                        volumen = driver.find_element(By.XPATH, f&#x27;//*[@id=&quot;MassUpdate&quot;]/table/tbody/tr[3]/td[7]&#x27;).text<br/>                        compensado = driver.find_element(By.XPATH, f&#x27;//*[@id=&quot;MassUpdate&quot;]/table/tbody/tr[3]/td[12]&#x27;).text<br/>                        inventario_fisico_final = inventario_fisico_final.replace(&#x27;kg&#x27;, &#x27;&#x27;)<br/>                        inventario_fisico_final = inventario_fisico_final.replace(&#x27;lt&#x27;, &#x27;&#x27;)<br/>                        inventario_fisico_final = inventario_fisico_final.replace(&#x27; &#x27;, &#x27;&#x27;)<br/>                        inventario_fisico_final = inventario_fisico_final.replace(&#x27;,&#x27;, &#x27;&#x27;)<br/>                        datos_inventario_final[&#x27;Folio de registro mas proximo&#x27;] = folio<br/>                        datos_inventario_final[&#x27;Volumen Fisico Final Inventario&#x27;] = inventario_fisico_final<br/>                        volumen = volumen.replace(&#x27;,&#x27;, &#x27;&#x27;)<br/>                        datos_inventario_final[&#x27;Volumen Fisico Final Registro&#x27;] = float(volumen) + float(compensado)<br/>                        datos_inventario_final[&#x27;Volumen Fisico Final Registro&#x27;] = round(datos_inventario_final[&#x27;Volumen Fisico Final Registro&#x27;], 2)<br/>                        datos_inventario_final[&#x27;Volumen Almacen + Compensado&#x27;] = float(volumen) + float(compensado)<br/>                        datos_inventario_final[&#x27;Volumen Almacen + Compensado&#x27;] = round(datos_inventario_final[&#x27;Volumen Almacen + Compensado&#x27;], 2)<br/>                        datos_inventario_final[&#x27;Diferencia&#x27;] = float(datos_inventario_final[&#x27;Volumen Fisico Final Inventario&#x27;]) - float(datos_inventario_final[&#x27;Volumen Fisico Final Registro&#x27;])<br/>                        datos_inventario_final[&#x27;Diferencia&#x27;] = abs(float(datos_inventario_final[&#x27;Diferencia&#x27;]))<br/>                        datos_inventario_final[&#x27;Diferencia&#x27;] = round(float(datos_inventario_final[&#x27;Diferencia&#x27;]), 2)<br/>            # empezamos el test de entradas<br/>            time.sleep(2)<br/>            boton_inventario = driver.find_element(By.XPATH, &#x27;//*[@id=&quot;grouptab_7&quot;]&#x27;)<br/>            boton_inventario.click()<br/>            sub_boton_inventario = driver.find_element(By.XPATH, &#x27;//*[@id=&quot;moduleTab_7_isies_inventario_basico&quot;]&#x27;)<br/>            sub_boton_inventario.click()<br/>            time.sleep(2)<br/>            datos_entradas[&#x27;Dia inventario&#x27;] = dia_inventario<br/>            fecha = driver.find_element(By.XPATH, &#x27;//*[@id=&quot;inventario_basic&quot;]&#x27;)<br/>            fecha.send_keys(dia_inventario)<br/>            fecha.send_keys(Keys.ENTER)<br/>            time.sleep(1)<br/>            if check_exists_by_xpath(driver, &#x27;//*[@id=&quot;MassUpdate&quot;]/table/tbody/tr[3]/td[1]/a&#x27;):<br/>                documento = driver.find_element(By.XPATH, &#x27;//*[@id=&quot;MassUpdate&quot;]/table/tbody/tr[3]/td[1]/a&#x27;)<br/>                documento.click()<br/>                time.sleep(1)<br/>                fecha_inicial = driver.find_element(By.XPATH, &#x27;//*[@id=&quot;lienzo&quot;]/table[2]/tbody/tr[1]/td[2]&#x27;).text<br/>                datos_entradas[&#x27;Fecha inicial inventario&#x27;] = fecha_inicial<br/>                fecha_final = driver.find_element(By.XPATH, &#x27;//*[@id=&quot;tr1&quot;]/td[2]&#x27;).text<br/>                datos_entradas[&#x27;Fecha Final del Inventario&#x27;] = fecha_final<br/>                time.sleep(1)<br/>                entradas = driver.find_element(By.XPATH, &#x27;/html[1]/body[1]/div[4]/div[3]/table[1]/tbody[1]/tr[1]/td[1]/div[1]/table[3]/tbody[1]/tr[3]/td[2]&#x27;).text<br/>                entradas = entradas.replace(&#x27; &#x27;, &#x27;&#x27;, 10)<br/>                entradas = entradas.split(&#x27;]&#x27;)<br/>                entradas_kg = entradas[1]<br/>                entradas_kg = entradas_kg.replace(&#x27;,&#x27;, &#x27;&#x27;)<br/>                entradas_kg = entradas_kg.replace(&#x27;lt&#x27;, &#x27;&#x27;)<br/>                entradas_kg = entradas_kg.replace(&#x27;kg&#x27;, &#x27;&#x27;)<br/>                datos_entradas[&#x27;Entradas/compras&#x27;] = entradas_kg<br/>                cantidad_de_entradas = entradas[0]<br/>                cantidad_de_entradas = cantidad_de_entradas.replace(&#x27;[&#x27;, &#x27;&#x27;)<br/>                cantidad_de_entradas = cantidad_de_entradas.replace(&#x27;]&#x27;, &#x27;&#x27;)<br/>                datos_entradas[&#x27;Cantidad de entradas/compras&#x27;] = cantidad_de_entradas<br/>                boton_descarga = driver.find_element(By.XPATH, &#x27;/html[1]/body[1]/div[3]/div[10]/ul[1]/li[6]/span[2]/a[1]&#x27;)<br/>                boton_descarga.click()<br/>                sub_boton_descarga = driver.find_element(By.XPATH, &#x27;/html[1]/body[1]/div[3]/div[12]/span[5]/ul[1]/li[1]/a[1]&#x27;)<br/>                sub_boton_descarga.click()<br/>                boton_descargas_documento = driver.find_element(By.XPATH, &#x27;/html[1]/body[1]/div[4]/div[2]/div[1]/ul[1]/li[2]/a[1]&#x27;)<br/>                boton_descargas_documento.click()<br/>                rango1 = convertir_fecha_24(datos_entradas[&#x27;Fecha inicial inventario&#x27;])<br/>                rango2 = convertir_fecha_24(datos_entradas[&#x27;Fecha Final del Inventario&#x27;])<br/>                fecha1 = driver.find_element(By.XPATH, &#x27;/html[1]/body[1]/div[4]/div[3]/table[1]/tbody[1]/tr[1]/td[1]/form[1]/div[1]/table[1]/tbody[1]/tr[1]/td[2]/input[1]&#x27;)<br/>                fecha2 = driver.find_element(By.XPATH, &#x27;/html[1]/body[1]/div[4]/div[3]/table[1]/tbody[1]/tr[1]/td[1]/form[1]/div[1]/table[1]/tbody[1]/tr[1]/td[2]/input[2]&#x27;)<br/>                time.sleep(2)<br/>                fecha1.clear()<br/>                fecha2.clear()<br/>                fecha1.send_keys(rango1)<br/>                fecha2.send_keys(rango2)<br/>                fecha2.send_keys(Keys.ENTER)<br/>                time.sleep(1)<br/>                unidades_de_medida = driver.find_element(By.XPATH, &#x27;/html[1]/body[1]/div[4]/div[3]/table[1]/tbody[1]/tr[1]/td[1]/form[1]/div[1]/table[1]/tbody[1]/tr[6]/td[2]/input[1]&#x27;)<br/>                unidades_de_medida.click()<br/>                time.sleep(3)<br/>                if check_exists_by_xpath(driver, &#x27;/html[1]/body[1]/div[4]/div[3]/table[1]/tbody[1]/tr[1]/td[1]/table[4]/tbody[1]/tr[3]/td[2]&#x27;):<br/>                    total = driver.find_element(By.XPATH, &#x27;/html[1]/body[1]/div[4]/div[3]/table[1]/tbody[1]/tr[1]/td[1]/table[4]/tbody[1]/tr[3]/td[2]&#x27;).text<br/>                    datos_entradas[&#x27;Total de cargas&#x27;] = total<br/>                    compensado = driver.find_element(By.XPATH, &#x27;//*[@id=&quot;content&quot;]/table/tbody/tr/td/table[4]/tbody/tr[3]/td[13]&#x27;).text<br/>                    compensado = compensado.replace(&#x27;,&#x27;, &#x27;&#x27;)<br/>                    compensado = compensado.replace(&#x27;kg&#x27;, &#x27;&#x27;)<br/>                    compensado = compensado.replace(&#x27;lt&#x27;, &#x27;&#x27;)<br/>                    compensado = compensado.replace(&#x27; &#x27;, &#x27;&#x27;, 10)<br/>                    datos_entradas[&#x27;compensado&#x27;] = compensado<br/>    <br/>            # nos pasamos a hacer la prueba de inventario vs ventas<br/>    <br/>            time.sleep(2)<br/>            # sacar fechas del inventario<br/>            time.sleep(2)<br/>            # sacar fechas del inventario<br/>            boton_inventario = driver.find_element(By.XPATH, &#x27;//*[@id=&quot;grouptab_7&quot;]&#x27;)<br/>            boton_inventario.click()<br/>            datos_inventario[&#x27;Dia inventario&#x27;] = dia_inventario<br/>            fecha = driver.find_element(By.XPATH, &#x27;//*[@id=&quot;inventario_basic&quot;]&#x27;)<br/>            fecha.send_keys(dia_inventario)<br/>            fecha.send_keys(Keys.ENTER)<br/>            time.sleep(1)<br/>            # fecha inicial del inventario<br/>            if check_exists_by_xpath(driver, &#x27;//*[@id=&quot;MassUpdate&quot;]/table/tbody/tr[3]/td[1]/a&#x27;):<br/>                documento = driver.find_element(By.XPATH, &#x27;//*[@id=&quot;MassUpdate&quot;]/table/tbody/tr[3]/td[1]/a&#x27;)<br/>                documento.click()<br/>                time.sleep(1)<br/>                fecha_inicial = driver.find_element(By.XPATH, &#x27;//*[@id=&quot;lienzo&quot;]/table[2]/tbody/tr[1]/td[2]&#x27;).text<br/>                datos_inventario[&#x27;Fecha inicial inventario&#x27;] = fecha_inicial<br/>                fecha_inicial = convertir_fecha_24(fecha_inicial)<br/>                # fecha final del inventario<br/>                fecha_final = driver.find_element(By.XPATH, &#x27;//*[@id=&quot;tr1&quot;]/td[2]&#x27;).text<br/>                datos_inventario[&#x27;Fecha Final del Inventario&#x27;] = fecha_final<br/>                fecha_final = convertir_fecha_24(fecha_final)<br/>                # sacamoss los datos a revisar carga de autotanques, anden, servicio medido<br/>                carga_autotanque = driver.find_element(By.XPATH, &#x27;//*[@id=&quot;lienzo&quot;]/table[4]/tbody/tr[2]/td[2]&#x27;).text<br/>                datos_inventario[&#x27;Carga autotanque&#x27;] = carga_autotanque<br/>                carga_autotanque = carga_autotanque.replace(&#x27;,&#x27;, &#x27;&#x27;)<br/>                carga_autotanque = carga_autotanque.replace(&#x27; &#x27;, &#x27;&#x27;)<br/>                carga_autotanque = carga_autotanque.replace(&#x27;kg&#x27;, &#x27;&#x27;)<br/>                carga_autotanque = carga_autotanque.replace(&#x27;lt&#x27;, &#x27;&#x27;)<br/>                anden = driver.find_element(By.XPATH, &#x27;//*[@id=&quot;lienzo&quot;]/table[4]/tbody/tr[3]/td[2]&#x27;).text<br/>                datos_inventario[&#x27;Anden&#x27;] = anden<br/>                anden = anden.replace(&#x27;,&#x27;, &#x27;&#x27;)<br/>                anden = anden.replace(&#x27; &#x27;, &#x27;&#x27;)<br/>                anden = anden.replace(&#x27;kg&#x27;, &#x27;&#x27;)<br/>                anden = anden.replace(&#x27;lt&#x27;, &#x27;&#x27;)<br/>                servicio_medido = driver.find_element(By.XPATH, &#x27;//*[@id=&quot;lienzo&quot;]/table[4]/tbody/tr[5]/td[2]&#x27;).text<br/>                datos_inventario[&#x27;Servicio_medido&#x27;] = servicio_medido<br/>                datos_inventario[&#x27;Total sin Servicio medido&#x27;] = float(carga_autotanque) + float(anden)<br/>                total_ventas = driver.find_element(By.XPATH, &#x27;//*[@id=&quot;lienzo&quot;]/table[4]/tbody/tr[6]/td[2]&#x27;).text<br/>                datos_inventario[&#x27;Total Ventas&#x27;] = total_ventas<br/>                campo_variable = driver.find_element(By.XPATH, &#x27;//*[@id=&quot;lienzo&quot;]/table[3]/tbody/tr[5]/td[1]&#x27;).text<br/>                if &#x27;almacén&#x27; not in campo_variable:<br/>                    datos_inventario[&#x27;Total en movimientos del sistema&#x27;] = driver.find_element(By.XPATH, &#x27;//*[@id=&quot;lienzo&quot;]/table[3]/tbody/tr[5]/td[2]&#x27;).text<br/>                # nos movemos a sgc web<br/>                principal = driver.current_window_handle<br/>                driver.execute_script(&#x27;&#x27;&#x27;window.open(&quot;https://testventas.sgcweb.com.mx/index.php?action=Login&amp;module=Users&amp;login_module=Home&amp;login_action=index&quot;,&quot;_blank&quot;);&#x27;&#x27;&#x27;)<br/>                time.sleep(3)<br/>                chld = driver.window_handles[1]<br/>                driver.switch_to.window(chld)<br/>                time.sleep(3)<br/>                # accedemos a sgc web<br/>                acceso = driver.find_element(By.XPATH, &#x27;//*[@id=&quot;user_name&quot;]&#x27;)<br/>                acceso.send_keys(name_web)<br/>                contra = driver.find_element(By.XPATH, &#x27;//*[@id=&quot;user_password&quot;]&#x27;)<br/>                contra.send_keys(password_web)<br/>                contra.submit()<br/>                time.sleep(2)<br/>                # entramos al reporte condensado<br/>                visor = driver.find_element(By.XPATH, &#x27;//*[@id=&quot;grouptab_6&quot;]&#x27;)<br/>                visor.click()<br/>                reporte_condensado = driver.find_element(By.XPATH, &#x27;/html/body/div[4]/div[3]/table/tbody/tr/td/div[2]/table/tbody/tr[12]/td/div/a&#x27;)<br/>                reporte_condensado.click()<br/>                # se manda la primera fecha<br/>                time.sleep(5)<br/>                fecha_2 = fecha_inicial.split(&#x27; &#x27;)<br/>                solo_fecha = fecha_2[0]<br/>                solo_hora = fecha_2[1]<br/>                solo_hora = solo_hora.split(&#x27;:&#x27;)<br/>                rango1 = driver.find_element(By.XPATH, &#x27;//*[@id=&quot;_fecha_0&quot;]&#x27;)<br/>                rango1.clear()<br/>                rango1.send_keys(solo_fecha)<br/>                hora_1 = Select(driver.find_element(By.XPATH, &#x27;//*[@id=&quot;_hora_0&quot;]&#x27;))<br/>                hora_1.select_by_visible_text(str(solo_hora[0]))<br/>                min_1 = Select(driver.find_element(By.XPATH, &#x27;//*[@id=&quot;_minuto_0&quot;]&#x27;))<br/>                min_1.select_by_visible_text(str(solo_hora[1]))<br/>                # se manda la segunda fecha<br/>                fecha_2 = fecha_final.split(&#x27; &#x27;)<br/>                solo_fecha = fecha_2[0]<br/>                solo_hora = fecha_2[1]<br/>                solo_hora = solo_hora.split(&#x27;:&#x27;)<br/>                rango1 = driver.find_element(By.XPATH, &#x27;//*[@id=&quot;_fecha2_0&quot;]&#x27;)<br/>                rango1.clear()<br/>                rango1.send_keys(solo_fecha)<br/>                hora_1 = Select(driver.find_element(By.XPATH, &#x27;//*[@id=&quot;_hora2_0&quot;]&#x27;))<br/>                hora_1.select_by_visible_text(str(solo_hora[0]))<br/>                min_1 = Select(driver.find_element(By.XPATH, &#x27;//*[@id=&quot;_minuto2_0&quot;]&#x27;))<br/>                min_1.select_by_visible_text(str(solo_hora[1]))<br/>                ver_reporte = driver.find_element(By.XPATH, &#x27;//*[@id=&quot;btn_ver_reporte&quot;]&#x27;)<br/>                ver_reporte.click()<br/>                time.sleep(12)<br/>                # seleccionamos la tabla si existe<br/>                if check_exists_by_xpath(driver, &#x27;//*[@id=&quot;_preViewReport&quot;]/table/tbody/tr[2]/td[3]&#x27;):<br/>                    tabla_ventas = driver.find_element(By.XPATH, &#x27;//*[@id=&quot;_preViewReport&quot;]/table/tbody&#x27;)<br/>                    tabla_ventas_len = len(tabla_ventas.find_elements(By.TAG_NAME, &#x27;tr&#x27;))<br/>                    i = 2<br/>                else:<br/>                    mensaje_de_salida(datos_inventario_inicial, datos_inventario_final, datos_entradas, datos_inventario, datos_ventas, datos_inventario_tanque)<br/>                    assert False, &#x27;No hay datos en el condensado de datos&#x27;<br/>                # empezamos a contar los productos y a separarlos<br/>                datos_ventas[&#x27;Servicio Medido&#x27;] = 0<br/>                productos[&#x27;Servicio Medido&#x27;] = 0<br/>                total_peso_vendido = 0<br/>                while i &lt; tabla_ventas_len:<br/>                    time.sleep(1)<br/>                    nombre = driver.find_element(By.XPATH, f&#x27;//*[@id=&quot;_preViewReport&quot;]/table/tbody/tr[{i}]/td[3]&#x27;).text<br/>                    if &#x27;Cilindro&#x27; in nombre or &#x27;cilindro&#x27; in nombre:<br/>                        nombre = nombre.split(&#x27;]&#x27;)<br/>                        cant = nombre[0]<br/>                        cant = cant.replace(&#x27;[CANT. &#x27;, &#x27;&#x27;)<br/>                        den = nombre[1]<br/>                        den = den.replace(&#x27; [DEN. &#x27;, &#x27;&#x27;)<br/>                        nombre = nombre[2]<br/>                        nombre = nombre.replace(&#x27; &#x27;, &#x27;&#x27;, 1)<br/>                        datos_ventas[&#x27;Factor densidad &#x27; + f&#x27;{nombre}&#x27;] = den<br/>                        datos_ventas[&#x27;Cantidad vendida de &#x27; + f&#x27;{nombre}&#x27;] = cant<br/>                        datos_ventas[&#x27;Cantidad vendida de &#x27; + f&#x27;{nombre}&#x27;] = datos_ventas[&#x27;Cantidad vendida de &#x27; + f&#x27;{nombre}&#x27;].replace(&#x27;.00&#x27;, &#x27;&#x27;)<br/>                        if nombre not in productos:<br/>                            datos_ventas[&#x27;Lts vendidos de &#x27; + nombre] = 0<br/>                            productos[nombre] = 0<br/>                    cantidad = driver.find_element(By.XPATH, f&#x27;//*[@id=&quot;_preViewReport&quot;]/table/tbody/tr[{i}]/td[4]&#x27;).text<br/>                    cantidad = cantidad.replace(&#x27;,&#x27;, &#x27;&#x27;)<br/>                    unidad = driver.find_element(By.XPATH, f&#x27;//*[@id=&quot;_preViewReport&quot;]/table/tbody/tr[{i}]/td[2]&#x27;).text<br/>                    if &#x27;GLP&#x27; in nombre or &#x27;Cilindro&#x27; in nombre or &#x27;cilindro&#x27; in nombre:<br/>                        if &#x27;GLP&#x27; in nombre and &#x27;C&#x27; in unidad:<br/>                            datos_ventas[&#x27;Servicio Medido&#x27;] = float(datos_ventas[&#x27;Servicio Medido&#x27;]) + float(cantidad)<br/>                            productos[&#x27;Servicio Medido&#x27;] = float(productos[&#x27;Servicio Medido&#x27;]) + float(cantidad)<br/>                            i += 1<br/>                        elif nombre in productos:<br/>                            datos_ventas[&#x27;Lts vendidos de &#x27; + nombre] = float(datos_ventas[&#x27;Lts vendidos de &#x27; + nombre]) + float(cantidad)<br/>                            total_peso_vendido = str(total_peso_vendido).replace(&#x27;,&#x27;, &#x27;&#x27;)<br/>                            total_peso_vendido = float(total_peso_vendido) + float(datos_ventas[&#x27;Lts vendidos de &#x27; + nombre])<br/>                            productos[nombre] = float(productos[nombre]) + float(cantidad)<br/>                            i += 1<br/>                        else:<br/>                            datos_ventas[&#x27;Lt vendidos en: &#x27; + nombre] = cantidad<br/>                            datos_ventas[&#x27;Lt vendidos en: &#x27; + nombre] = datos_ventas[&#x27;Lt vendidos en: &#x27; + nombre].replace(&#x27;,&#x27;, &#x27;&#x27;)<br/>                            total_peso_vendido = str(total_peso_vendido).replace(&#x27;,&#x27;, &#x27;&#x27;)<br/>                            total_peso_vendido = float(total_peso_vendido) + float(datos_ventas[&#x27;Lt vendidos en: &#x27; + nombre])<br/>                            productos[nombre] = cantidad<br/>                            i += 1<br/>    <br/>                datos_ventas[&#x27;Servicio Medido&#x27;] = str(datos_ventas[&#x27;Servicio Medido&#x27;]).replace(&#x27;,&#x27;, &#x27;&#x27;)<br/>                if &#x27;Lt vendidos en: GLP&#x27; in datos_ventas:<br/>                    datos_ventas[&#x27;Lt vendidos en: GLP&#x27;] = str(datos_ventas[&#x27;Lt vendidos en: GLP&#x27;]).replace(&#x27;,&#x27;, &#x27;&#x27;)<br/>                    datos_ventas[&#x27;Lt vendidos en: GLP&#x27;] = float(datos_ventas[&#x27;Lt vendidos en: GLP&#x27;])<br/>                datos_ventas[&#x27;Total litros vendidos&#x27;] = total_peso_vendido<br/>                datos_ventas[&#x27;Total litos&#x27;] = float(total_peso_vendido) + float(datos_ventas[&#x27;Servicio Medido&#x27;])<br/>    <br/>                # empezamos el test de salidas del tanque<br/>                # val = WebDriverWait(driver, 5).until(EC.visibility_of_element_located)<br/>                salidas = []<br/>                x = 0<br/>                time.sleep(3)<br/>                driver.switch_to.window(principal)<br/>                # sacar fechas del inventario<br/>                boton_inventario = driver.find_element(By.XPATH, &#x27;//*[@id=&quot;grouptab_7&quot;]&#x27;)<br/>                boton_inventario.click()<br/>                datos_inventario_tanque[&#x27;Dia inventario&#x27;] = dia_inventario<br/>                fecha = driver.find_element(By.XPATH, &#x27;//*[@id=&quot;inventario_basic&quot;]&#x27;)<br/>                fecha.send_keys(dia_inventario)<br/>                fecha.send_keys(Keys.ENTER)<br/>                time.sleep(1)<br/>                # fecha inicial del inventario<br/>                if check_exists_by_xpath(driver, &#x27;//*[@id=&quot;MassUpdate&quot;]/table/tbody/tr[3]/td[1]/a&#x27;):<br/>                    documento = driver.find_element(By.XPATH, &#x27;//*[@id=&quot;MassUpdate&quot;]/table/tbody/tr[3]/td[1]/a&#x27;)<br/>                    documento.click()<br/>                    time.sleep(1)<br/>                    fecha_inicio = driver.find_element(By.XPATH, &#x27;//*[@id=&quot;lienzo&quot;]/table[2]/tbody/tr[1]/td[2]&#x27;).text<br/>                    datos_inventario_tanque[&#x27;Fecha inicial inventario&#x27;] = fecha_inicio<br/>                    fecha_inicio = convertir_fecha_24(fecha_inicio)<br/>                    # fecha final del inventario<br/>                    fecha_final = driver.find_element(By.XPATH, &#x27;//*[@id=&quot;tr1&quot;]/td[2]&#x27;).text<br/>                    datos_inventario_tanque[&#x27;Fecha Final del Inventario&#x27;] = fecha_final<br/>                    fecha_final = convertir_fecha_24(fecha_final)<br/>    <br/>                    # sacamos los datos de las salidas de almacen<br/>                    datos_inventario_tanque[&#x27;Carga de Autotanques&#x27;] = driver.find_element(By.XPATH, &#x27;/html/body/div[4]/div[3]/table/tbody/tr/td/div/table[5]/tbody/tr[2]/td[2]&#x27;).text<br/>                    datos_inventario_tanque[&#x27;Auditor&#x27;] = driver.find_element(By.XPATH, &#x27;/html/body/div[4]/div[3]/table/tbody/tr/td/div/table[5]/tbody/tr[3]/td[2]&#x27;).text<br/>                    datos_inventario_tanque[&#x27;Carburacion&#x27;] = driver.find_element(By.XPATH, &#x27;/html/body/div[4]/div[3]/table/tbody/tr/td/div/table[5]/tbody/tr[4]/td[2]&#x27;).text<br/>                    datos_inventario_tanque[&#x27;Total salidas Inventario&#x27;] = driver.find_element(By.XPATH, &#x27;//*[@id=&quot;lienzo&quot;]/table[5]/tbody/tr[5]/td[2]&#x27;).text<br/>                    auditor = datos_inventario_tanque[&#x27;Auditor&#x27;].replace(&#x27;lt&#x27;, &#x27;&#x27;)<br/>                    auditor = auditor.replace(&#x27;,&#x27;, &#x27;&#x27;)<br/>                    carburacion = datos_inventario_tanque[&#x27;Carburacion&#x27;].replace(&#x27;lt&#x27;, &#x27;&#x27;)<br/>                    carburacion = carburacion.replace(&#x27;,&#x27;, &#x27;&#x27;)<br/>                    if &#x27;almacén&#x27; in campo_variable:<br/>                        datos_inventario_tanque[&#x27;Total en movimientos del sistema&#x27;] = driver.find_element(By.XPATH, &#x27;//*[@id=&quot;lienzo&quot;]/table[3]/tbody/tr[5]/td[2]&#x27;).text<br/>    <br/>                    datos_inventario_tanque[&#x27;AutoConsumo&#x27;] = 0<br/>                    datos_inventario_tanque[&#x27;AutoTanque&#x27;] = 0<br/>                    datos_inventario_tanque[&#x27;Total LLenados&#x27;] = 0<br/>                    if float(auditor) &gt; 0.0 or float(carburacion) &gt; 0.0:<br/>                        # Nos movemos a carga<br/>                        carga = driver.find_element(By.XPATH, &#x27;//*[@id=&quot;grouptab_3&quot;]&#x27;)<br/>                        carga.click()<br/>                        cargas_por_unidad = driver.find_element(By.XPATH, &#x27;//*[@id=&quot;ul_shortcuts&quot;]/li[2]/a&#x27;)<br/>                        cargas_por_unidad.click()<br/>                        fecha_3 = driver.find_element(By.XPATH, &#x27;//*[@id=&quot;fecha1&quot;]&#x27;)<br/>                        fecha_3.clear()<br/>                        fecha_4 = driver.find_element(By.XPATH, &#x27;//*[@id=&quot;fecha2&quot;]&#x27;)<br/>                        fecha_4.clear()<br/>                        fecha_3.send_keys(fecha_inicio)<br/>                        fecha_4.send_keys(fecha_final)<br/>                        time.sleep(10)<br/>                        selector_vehiculo = Select(driver.find_element(By.XPATH, &#x27;//*[@id=&quot;tipo_vehiculos_list&quot;]&#x27;))<br/>                        selector_vehiculo.select_by_visible_text(&#x27;AutoConsumo&#x27;)<br/>                        time.sleep(2)<br/>                        ver_reporte_carga = driver.find_element(By.XPATH, &#x27;//*[@id=&quot;btn_ver_reporte&quot;]&#x27;)<br/>                        ver_reporte_carga.click()<br/>                        tabla_carga = driver.find_element(By.XPATH, &#x27;//*[@id=&quot;reporteCargas&quot;]/tbody&#x27;)<br/>                        tabla_carga_len = len(tabla_carga.find_elements(By.TAG_NAME, &#x27;tr&#x27;))<br/>                        i = 2<br/>    <br/>                        if check_exists_by_xpath(driver, &#x27;//*[@id=&quot;reporteCargas&quot;]/tbody/tr[2]/td[12]&#x27;):<br/>                            while i &lt; tabla_carga_len:<br/>                                salidas.append([])<br/>                                salidas[x].append(driver.find_element(By.XPATH, f&#x27;//*[@id=&quot;reporteCargas&quot;]/tbody/tr[{i}]/td[1]/a&#x27;).text)<br/>                                vehiculo = driver.find_element(By.XPATH, f&#x27;//*[@id=&quot;reporteCargas&quot;]/tbody/tr[{i}]/td[3]&#x27;).text<br/>                                salidas[x].append(vehiculo)<br/>                                cantidad = driver.find_element(By.XPATH, f&#x27;//*[@id=&quot;reporteCargas&quot;]/tbody/tr[{i}]/td[13]&#x27;).text<br/>                                cantidad = cantidad.replace(&#x27; &#x27;, &#x27;&#x27;)<br/>                                cantidad = cantidad.replace(&#x27;lt&#x27;, &#x27;&#x27;)<br/>                                cantidad = cantidad.replace(&#x27;,&#x27;, &#x27;&#x27;)<br/>                                if &#x27;kg&#x27; in cantidad:<br/>                                    cantidad = cantidad.replace(&#x27;kg&#x27;, &#x27;&#x27;)<br/>                                    cantidad = float(cantidad) / 0.5360<br/>                                datos_inventario_tanque[&#x27;AutoConsumo&#x27;] = datos_inventario_tanque[&#x27;AutoConsumo&#x27;] + float(cantidad)<br/>                                cantidad = round(float(cantidad), 3)<br/>                                cantidad = str(cantidad) + &#x27; lt&#x27;<br/>                                salidas[x].append(cantidad)<br/>                                i += 1<br/>                                x += 1<br/>    <br/>                        time.sleep(2)<br/>                        tabla_carga = driver.find_element(By.XPATH, &#x27;//*[@id=&quot;reporteCargas&quot;]/tbody&#x27;)<br/>                        tabla_carga_len = len(tabla_carga.find_elements(By.TAG_NAME, &#x27;tr&#x27;))<br/>                        i = 2<br/>                        datos_inventario_tanque[&#x27;AutoConsumo&#x27;] = round(datos_inventario_tanque[&#x27;AutoConsumo&#x27;], 4)<br/>                        if check_exists_by_xpath(driver, &#x27;//*[@id=&quot;reporteCargas&quot;]/tbody/tr[2]/td[12]&#x27;):<br/>                            while i &lt; tabla_carga_len:<br/>                                salidas.append([])<br/>                                salidas[x].append(driver.find_element(By.XPATH, f&#x27;//*[@id=&quot;reporteCargas&quot;]/tbody/tr[{i}]/td[1]/a&#x27;).text)<br/>                                vehiculo = driver.find_element(By.XPATH, f&#x27;//*[@id=&quot;reporteCargas&quot;]/tbody/tr[{i}]/td[3]&#x27;).text<br/>                                salidas[x].append(vehiculo)<br/>                                cantidad = driver.find_element(By.XPATH, f&#x27;//*[@id=&quot;reporteCargas&quot;]/tbody/tr[{i}]/td[13]&#x27;).text<br/>                                cantidad = cantidad.replace(&#x27; &#x27;, &#x27;&#x27;)<br/>                                cantidad = cantidad.replace(&#x27;lt&#x27;, &#x27;&#x27;)<br/>                                cantidad = cantidad.replace(&#x27;,&#x27;, &#x27;&#x27;)<br/>                                if &#x27;kg&#x27; in cantidad:<br/>                                    cantidad = cantidad.replace(&#x27;kg&#x27;, &#x27;&#x27;)<br/>                                    cantidad = float(cantidad) / 0.5360<br/>                                datos_inventario_tanque[&#x27;AutoTanque&#x27;] = datos_inventario_tanque[&#x27;AutoTanque&#x27;] + float(cantidad)<br/>                                cantidad = round(float(cantidad), 3)<br/>                                cantidad = str(cantidad) + &#x27; lt&#x27;<br/>                                salidas[x].append(cantidad)<br/>                                i += 1<br/>                                x += 1<br/>                        datos_inventario_tanque[&#x27;AutoTanque&#x27;] = round(datos_inventario_tanque[&#x27;AutoTanque&#x27;], 4)<br/>                        # nos movemos a anden<br/>                        anden = driver.find_element(By.XPATH, &#x27;//*[@id=&quot;grouptab_1&quot;]&#x27;)<br/>                        anden.click()<br/>                        llenado_por_terminal = driver.find_element(By.XPATH, &#x27;//*[@id=&quot;ul_shortcuts&quot;]/li[2]/a&#x27;)<br/>                        llenado_por_terminal.click()<br/>                        fecha = driver.find_element(By.XPATH, &#x27;//*[@id=&quot;fecha1&quot;]&#x27;)<br/>                        fecha.clear()<br/>                        fecha.send_keys(fecha_inicio)<br/>                        fecha2 = driver.find_element(By.XPATH, &#x27;//*[@id=&quot;fecha2&quot;]&#x27;)<br/>                        fecha2.clear()<br/>                        fecha2.send_keys(fecha_final)<br/>                        ver_reporte = driver.find_element(By.XPATH, &#x27;//*[@id=&quot;btn_ver_reporte&quot;]&#x27;)<br/>                        ver_reporte.click()<br/>                        time.sleep(5)<br/>                        tabla_llenados = driver.find_element(By.XPATH, &#x27;//*[@id=&quot;reporteLlenados&quot;]/tbody&#x27;)<br/>                        tabla_llenados_len = len(tabla_llenados.find_elements(By.TAG_NAME, &#x27;tr&#x27;))<br/>                        i = 2<br/>                        if check_exists_by_xpath(driver, &#x27;//*[@id=&quot;reporteLlenados&quot;]/tbody/tr[2]/td[1]/a&#x27;):<br/>                            while i &lt; tabla_llenados_len:<br/>                                salidas.append([])<br/>                                salidas[x].append(driver.find_element(By.XPATH, f&#x27;//*[@id=&quot;reporteLlenados&quot;]/tbody/tr[{i}]/td[1]/a&#x27;).text)<br/>                                vehiculo = driver.find_element(By.XPATH, f&#x27;//*[@id=&quot;reporteLlenados&quot;]/tbody/tr[{i}]/td[3]&#x27;).text<br/>                                salidas[x].append(vehiculo)<br/>                                cantidad = driver.find_element(By.XPATH, f&#x27;//*[@id=&quot;reporteLlenados&quot;]/tbody/tr[{i}]/td[11]&#x27;).text<br/>                                cantidad = cantidad.replace(&#x27; &#x27;, &#x27;&#x27;)<br/>                                cantidad = cantidad.replace(&#x27;lt&#x27;, &#x27;&#x27;)<br/>                                cantidad = cantidad.replace(&#x27;,&#x27;, &#x27;&#x27;)<br/>                                cantidad = cantidad.replace(&#x27;*&#x27;, &#x27;&#x27;)<br/>                                if &#x27;kg&#x27; in cantidad:<br/>                                    cantidad = cantidad.replace(&#x27;kg&#x27;, &#x27;&#x27;)<br/>                                    cantidad = float(cantidad) / 0.550<br/>                                datos_inventario_tanque[&#x27;Total LLenados&#x27;] = datos_inventario_tanque[&#x27;Total LLenados&#x27;] + float(cantidad)<br/>                                cantidad = round(cantidad, 3)<br/>                                cantidad = str(cantidad) + &#x27; lt&#x27;<br/>                                salidas[x].append(cantidad)<br/>                                i += 1<br/>                                x += 1<br/>                        datos_inventario_tanque[&#x27;Total LLenados&#x27;] = round(datos_inventario_tanque[&#x27;Total LLenados&#x27;], 2)<br/>                    # nos movemos a auditor<br/>                    auditor_anden = driver.find_element(By.XPATH, &#x27;//*[@id=&quot;grouptab_5&quot;]&#x27;)<br/>                    auditor_anden.click()<br/>                    busqueda_avanzada = driver.find_element(By.XPATH, &#x27;//*[@id=&quot;tab_link_isies_registros_masico|advanced_search&quot;]&#x27;)<br/>                    busqueda_avanzada.click()<br/>                    fecha_1 = driver.find_element(By.XPATH, &#x27;//*[@id=&quot;fecha_final_advanced&quot;]&#x27;)<br/>                    fecha_1.send_keys(fecha_inicio)<br/>                    time.sleep(2)<br/>                    fecha_2 = driver.find_element(By.XPATH, &#x27;//*[@id=&quot;fecha_final1_advanced&quot;]&#x27;)<br/>                    fecha_2.send_keys(fecha_final)<br/>                    time.sleep(2)<br/>                    fecha_2.submit()<br/>                    time.sleep(2)<br/>                    lista = driver.find_element(By.XPATH, &#x27;//*[@id=&quot;MassUpdate&quot;]/table/tbody&#x27;)<br/>                    lista_len = len(lista.find_elements(By.TAG_NAME, &#x27;tr&#x27;))<br/>                    time.sleep(2)<br/>                    if check_exists_by_xpath(driver, &#x27;//*[@id=&quot;MassUpdate&quot;]/table/tbody/tr[3]/td[5]&#x27;):<br/>                        ultimo_registro = driver.find_element(By.XPATH, &#x27;//*[@id=&quot;MassUpdate&quot;]/table/tbody/tr[3]/td[5]&#x27;).text<br/>                        ultimo_registro = ultimo_registro.replace(&#x27;,&#x27;, &#x27;&#x27;)<br/>                        datos_inventario_tanque[&#x27;Folio ultimo registro&#x27;] = driver.find_element(By.XPATH, &#x27;//*[@id=&quot;MassUpdate&quot;]/table/tbody/tr[3]/td[1]/a&#x27;).text<br/>                        datos_inventario_tanque[&#x27;Fecha ultimo registro&#x27;] = driver.find_element(By.XPATH, &#x27;//*[@id=&quot;MassUpdate&quot;]/table/tbody/tr[3]/td[2]&#x27;).text<br/>                        datos_inventario_tanque[&#x27;Ultimo registro&#x27;] = ultimo_registro<br/>                        flecha = driver.find_element(By.XPATH, f&#x27;//*[@id=&quot;MassUpdate&quot;]/table/tbody/tr[{lista_len - 2}]/td/table/tbody/tr/td[2]/button[4]&#x27;)<br/>                        if flecha.is_enabled():<br/>                            flecha.click()<br/>                            time.sleep(2)<br/>                            lista2 = driver.find_element(By.XPATH, &#x27;//*[@id=&quot;MassUpdate&quot;]/table/tbody&#x27;)<br/>                            lista2_len = len(lista2.find_elements(By.TAG_NAME, &#x27;tr&#x27;))<br/>                            datos_inventario_tanque[&#x27;Folio primer registro&#x27;] = driver.find_element(By.XPATH, f&#x27;//*[@id=&quot;MassUpdate&quot;]/table/tbody/tr[{lista2_len - 3}]/td[1]/a&#x27;).text<br/>                            datos_inventario_tanque[&#x27;Fecha primer registro&#x27;] = driver.find_element(By.XPATH, f&#x27;//*[@id=&quot;MassUpdate&quot;]/table/tbody/tr[{lista2_len - 3}]/td[2]&#x27;).text<br/>                            primer_registro = driver.find_element(By.XPATH, f&#x27;//*[@id=&quot;MassUpdate&quot;]/table/tbody/tr[{lista2_len - 3}]/td[5]&#x27;).text<br/>                            primer_registro = primer_registro.replace(&#x27;,&#x27;, &#x27;&#x27;)<br/>                            datos_inventario_tanque[&#x27;Primer registro&#x27;] = primer_registro<br/>                        else:<br/>                            time.sleep(2)<br/>                            lista2 = driver.find_element(By.XPATH, &#x27;//*[@id=&quot;MassUpdate&quot;]/table/tbody&#x27;)<br/>                            lista2_len = len(lista2.find_elements(By.TAG_NAME, &#x27;tr&#x27;))<br/>                            datos_inventario_tanque[&#x27;Folio primer registro&#x27;] = driver.find_element(By.XPATH, f&#x27;//*[@id=&quot;MassUpdate&quot;]/table/tbody/tr[{lista2_len - 3}]/td[1]/a&#x27;).text<br/>                            datos_inventario_tanque[&#x27;Fecha primer registro&#x27;] = driver.find_element(By.XPATH, f&#x27;//*[@id=&quot;MassUpdate&quot;]/table/tbody/tr[{lista2_len - 3}]/td[2]&#x27;).text<br/>                            primer_registro = driver.find_element(By.XPATH, f&#x27;//*[@id=&quot;MassUpdate&quot;]/table/tbody/tr[{lista2_len - 3}]/td[5]&#x27;).text<br/>                            primer_registro = primer_registro.replace(&#x27;,&#x27;, &#x27;&#x27;)<br/>                            datos_inventario_tanque[&#x27;Primer registro&#x27;] = primer_registro<br/>                        resta = float(datos_inventario_tanque[&#x27;Ultimo registro&#x27;]) - float(datos_inventario_tanque[&#x27;Primer registro&#x27;])<br/>                        resta = round(resta, 2)<br/>                        datos_inventario_tanque[&#x27;Diferencia entre primer y ultimo registro Auditor anden&#x27;] = resta<br/>                    else:<br/>                        datos_inventario_tanque[&#x27;Diferencia entre primer y ultimo registro Auditor anden&#x27;] = 0.0<br/>                datos_inventario_tanque[&#x27;Suma de los 3 campos&#x27;] = float(datos_inventario_tanque[&#x27;AutoConsumo&#x27;]) + float(datos_inventario_tanque[&#x27;AutoTanque&#x27;]) + float(<br/>                    datos_inventario_tanque[&#x27;Diferencia entre primer y ultimo registro Auditor anden&#x27;])<br/>                datos_inventario_tanque[&#x27;Suma de los 3 campos&#x27;] = round(datos_inventario_tanque[&#x27;Suma de los 3 campos&#x27;], 2)<br/>                datos_inventario_tanque[&#x27;Total de servicios Auto Consumo&#x27;] = x<br/>                salidas_inventarios = datos_inventario_tanque[&#x27;Total salidas Inventario&#x27;].replace(&#x27; &#x27;, &#x27;&#x27;)<br/>                salidas_inventarios = salidas_inventarios.replace(&#x27;,&#x27;, &#x27;&#x27;)<br/>                salidas_inventarios = salidas_inventarios.replace(&#x27;lt&#x27;, &#x27;&#x27;)<br/>                datos_inventario_tanque[&#x27;Diferencia entre Inventarios -&gt; Salidas almacen y Datos de Planta&#x27;] = float(salidas_inventarios) - datos_inventario_tanque[&#x27;Suma de los 3 campos&#x27;]<br/>                datos_inventario_tanque[&#x27;Diferencia entre Inventarios -&gt; Salidas almacen y Datos de Planta&#x27;] = abs(datos_inventario_tanque[&#x27;Diferencia entre Inventarios -&gt; Salidas almacen y Datos de Planta&#x27;])<br/>                datos_inventario_tanque[&#x27;Diferencia entre Inventarios -&gt; Salidas almacen y Datos de Planta&#x27;] = round(datos_inventario_tanque[&#x27;Diferencia entre Inventarios -&gt; Salidas almacen y Datos de Planta&#x27;], 3)<br/>&gt;               datos_inventario_tanque[&#x27;Diferencia Real de inventario&#x27;] = datos_inventario_final[&#x27;Volumen Almacen + Compensado&#x27;] - (datos_inventario_inicial[&#x27;Volumen Almacen + Compensado&#x27;] - datos_inventario_tanque[&#x27;Suma de los 3 campos&#x27;])<br/><span class="error">E               KeyError: &#x27;Volumen Almacen + Compensado&#x27;</span><br/><br/>app/static/pruebas_sgc/test_inventario_unificado.py:761: KeyError<br/></div></td></tr></tbody></table></body></html>